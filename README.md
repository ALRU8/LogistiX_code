# LogistiX - роботизированная система управления и размещения коробок

## Описание проекта
Данный проект представляет собой комплексную систему для автоматизации процесса распознавания коробок, их размеров и размещения на поле с использованием роботизированной руки. Система включает веб-интерфейс, обработку видеопотока, управление Arduino через PyFirmata2, распознавание QR-кодов и взаимодействие с базой данных.

---

## **Основные функции**
1. **Распознавание объектов**:
   - Использует модель YOLO для обнаружения коробок на видеопотоке.
   - Распознает QR-коды внутри коробок для получения данных о размерах и весе.

2. **Управление роботизированной рукой**:
   - Перемещение по осям X, Y, Z.
   - Управление захватом и поворотным столом.
   - Автоматический режим для размещения коробки на поле.

3. **Веб-интерфейс**:
   - Предоставляет панель управления для пользователей.
   - Поддерживает авторизацию через базу данных SQLite.

4. **Обработка данных**:
   - Записывает результаты обработки в файл `output.txt`.
   - Вычисляет оптимальные координаты для размещения коробки на поле.

5. **API**:
   - Получение данных о размерах коробки.
   - Чтение данных из файла `output.txt`.
   - Добавление новых пользователей в базу данных.

---

## **Требования к системе**
### **Программное обеспечение**
- Python 3.8 или выше
- Flask
- OpenCV
- PyFirmata2
- Ultralytics (YOLO)
- Supervision
- PyZBar
- SQLite3

### **Аппаратное обеспечение**
- Веб-камера (для видеопотока).
- Arduino (для управления роботизированной рукой).
- Сервоприводы (для захвата и поворотного стола).

---

## **Использование системы**
### **1. Авторизация**
- Перейдите на главную страницу (`/`).
- Введите имя пользователя и пароль для входа.
- Если вы новый пользователь, зарегистрируйтесь через API `/api/v1/add_user`.

### **2. Управление роботом**
- Используйте кнопки на веб-панели для перемещения роботизированной руки.
- Активируйте захват и поворотный стол через соответствующие кнопки.

### **3. Автоматический режим**
- Нажмите кнопку "Start Program" для запуска автоматической программы размещения коробки.

### **4. Просмотр видеопотока**
- Перейдите на страницу `/video_feed` для просмотра видеопотока с камеры.

---

## **API**
### **1. Получение пароля пользователя**
```
GET /api/v1/get/get_password
```
- Принимает JSON с именем пользователя.
- Возвращает хэшированный пароль.

### **2. Добавление нового пользователя**
```
POST /api/v1/add_user
```
- Принимает JSON с именем пользователя и паролем.
- Добавляет пользователя в базу данных.

### **3. Чтение данных из файла**
```
GET /api/v1/get/get_data_txt
```
- Возвращает содержимое файла `output.txt`.

### **4. Определение размеров коробки**
```
GET /api/v1/get/get_size
```
- Возвращает ширину и высоту коробки.

### **5. Размещение коробки на поле**
```
GET /api/v1/get/get_wall
```
- Возвращает координаты и ориентацию коробки для размещения.

---

## **Структура проекта**
```
├── run_app.py          # Основное Flask-приложение
├── host.py             # API-ресурсы
├── video_yolo.py       # Обработка видеопотока и распознавание объектов
├── database.py         # Интерфейс для работы с базой данных
├── db_server.py        # Реализация базы данных
├── output.txt          # Файл для записи данных
├── requirements.txt    # Список зависимостей
└── README.md           # Документация
```

---

## **Лицензия**
Проект распространяется под лицензией MIT. Подробности см. в файле [LICENSE](LICENSE).

---

## **Контакты**
Если у вас возникли вопросы или предложения, свяжитесь со мной:
- Telegram: @ALRU8

--- 
